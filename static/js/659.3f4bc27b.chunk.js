"use strict";(self.webpackChunkcinema_cave=self.webpackChunkcinema_cave||[]).push([[659],{5947:function(e,r,a){a.d(r,{Z:function(){return o}});var n=a(1087),t=a(184);function s(e){var r=e.props;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("li",{className:"movie__item br-15 p-relative draw-border",children:(0,t.jsxs)(n.rU,{to:"/movie/".concat(r.id),className:"d-flex br-15 item__card",children:[(0,t.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(r.poster_path),alt:r.original_title+" poster",className:"f-width br-15 card__logo skeleton",width:"140",height:"200",loading:"lazy"}),(0,t.jsxs)("div",{className:"f-width d-flex br-15 card__description",children:[(0,t.jsx)("p",{className:"card__title",children:r.title}),(0,t.jsxs)("p",{className:"d-flex card__score",children:[r.release_date?new Date(r.release_date).getFullYear():"N/A",(0,t.jsx)("span",{className:"rate",children:r.vote_average})]})]})]})})})}var i=a(2082),l=a(2881),c=a(9434);function o(e){var r=e.list,a=(0,c.v9)((function(e){return e.movies})),n=a.isLoading,o=a.isError,u=a.error;if(o&&u)return(0,t.jsx)(i.Z,{});var d;return(0,t.jsx)(t.Fragment,{children:n?(0,t.jsx)(l.Z,{}):r&&r.length>0?(d=r,(0,t.jsx)("ul",{className:"movies__list",children:d.map((function(e){return(0,t.jsx)(s,{props:e},e.id)}))})):(0,t.jsx)("p",{className:"f-width f-height list__empty",children:"No movie found"})})}},8659:function(e,r,a){a.r(r),a.d(r,{default:function(){return v}});var n=a(1413),t=a(9439),s=a(2791),i=a(9434),l=a(3433),c=a(1087),o=a(9806),u=a(1632),d=a(184);function g(e){var r=e.handleFilter,a=e.flag,g=(0,c.lr)(),p=(0,t.Z)(g,1)[0],f=(0,s.useRef)([]),m=(0,s.useState)(!1),v=(0,t.Z)(m,2),h=v[0],x=v[1],_=(0,s.useState)({genre:p.getAll("genre")||[],year:p.get("year")||"all",sort:p.get("sort")||"popularity.desc"}),j=(0,t.Z)(_,2),N=j[0],y=j[1],Z=(0,i.v9)((function(e){return e.genres.genreList}));return function(){for(var e=(new Date).getFullYear(),r=[(0,d.jsx)("option",{name:"all",value:"all",id:"check-all",children:"All"},"all")],a=e;a>=e-15;a--)r.push((0,d.jsx)("option",{name:a,value:a,id:a,children:a},a));f.current=r}(),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{onClick:function(){x((function(e){return!e}))},className:"d-flex menu__toggle ".concat(h?"active":""),children:[(0,d.jsx)("span",{className:"line line1"}),(0,d.jsx)("span",{className:"line line2"}),(0,d.jsx)("span",{className:"line line3"})]}),(0,d.jsxs)("aside",{className:"aside ".concat(h?"active":""),children:[(0,d.jsx)(o.G,{onClick:function(){x(!1),r(N),a((function(){return!1}))},className:"br-15 movie__filter",icon:u.G_j}),(0,d.jsxs)("select",{defaultValue:N.sort,className:"br-15 select movie_popularity",onChange:function(e){var r=e.target;return N.sort=r.value},name:"sort",children:[(0,d.jsx)("option",{value:"popularity.desc",children:"More popular"}),(0,d.jsx)("option",{value:"popularity.asc",children:"Less popular"}),(0,d.jsx)("option",{value:"primary_release_date.desc",children:"Newer"}),(0,d.jsx)("option",{value:"primary_release_date.asc",children:"Older"})]}),(0,d.jsx)("select",{onChange:function(e){var r=e.target;return N.year=r.value},className:"br-15 select movie__years",defaultValue:N.year,children:f.current}),(0,d.jsx)("ul",{className:"d-flex movie__categories categories",children:Z.map((function(e){var r=e.id,a=e.name;return(0,d.jsx)("li",{onClick:function(){return function(e){y((function(r){return(0,n.Z)((0,n.Z)({},r),{},{genre:N.genre.includes(e)?r.genre.filter((function(r){return r!==e})):[].concat((0,l.Z)(r.genre),[e])})}))}(r.toString())},className:"br-15 categories__item ".concat(N.genre.includes(r.toString())?"active":""),children:a},r)}))})]})]})}var p=a(5947),f=a(798);function m(e){var r=e.handler,a=e.currPage,n=e.totalPages,t=function(e){e<1||e>n||r({page:e})};return(0,d.jsxs)("div",{className:"d-flex pagination",children:[(0,d.jsx)(o.G,{className:"pagination__arrow",onClick:function(){return t(a-1)},icon:u.acZ}),(0,d.jsx)("span",{className:"pagination__page",children:a}),(0,d.jsx)(o.G,{className:"pagination__arrow",onClick:function(){return t(a+1)},icon:u.eFW})]})}function v(){var e=(0,i.I0)(),r=(0,c.lr)(),a=(0,t.Z)(r,2),l=a[0],o=a[1],u=(0,i.v9)((function(e){return e.movies})),v=u.movieList,h=u.page,x=h.currPage,_=h.totalPages,j=(0,s.useState)(!0),N=(0,t.Z)(j,2),y=N[0],Z=N[1],w=(0,s.useState)({genre:l.getAll("genre")||[],year:l.get("year")||"all",sort:l.get("sort")||"popularity.desc",page:parseInt(l.get("page")||"1")}),b=(0,t.Z)(w,2),k=b[0],C=b[1];(0,s.useEffect)((function(){if(window.scrollTo({top:0,behavior:"smooth"}),y){var r=l.get("query");r&&(l.set("query",r),l.set("page",k.page),o(l),e((0,f.mv)(r,!0,k.page)))}else o((0,n.Z)({},k)),e((0,f.HS)((0,n.Z)({},k))),Z((function(){return!0}))}),[k]);var F=function(e){C((function(r){return(0,n.Z)((0,n.Z)({},r),e)}))};return(0,d.jsxs)("div",{className:"wrapper",children:[(0,d.jsx)(p.Z,{list:v}),(0,d.jsx)(g,{handleFilter:F,flag:Z}),(0,d.jsx)(m,{handler:F,currPage:x,totalPages:_})]})}}}]);
//# sourceMappingURL=659.3f4bc27b.chunk.js.map